(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__3S2xr",label:"ContactForm_label__1k5KR",input:"ContactForm_input__1FHub",button:"ContactForm_button__DGGt0"}},15:function(t,e,n){t.exports={list:"ContactList_list__2lPUJ",listItem:"ContactList_listItem__3WH4u",button:"ContactList_button__3fqYv",appear:"ContactList_appear__3nxzs",appearActive:"ContactList_appearActive__2cfu5",enter:"ContactList_enter__2AIMc",enterActive:"ContactList_enterActive__3mEGu",exit:"ContactList_exit__20z4l",exitActive:"ContactList_exitActive__7eRqN"}},27:function(t,e,n){t.exports={container:"Toast_container__1r2en",message:"Toast_message__1B2M8"}},28:function(t,e,n){t.exports={wrapper:"Loader_wrapper__3k5QN"}},39:function(t,e,n){t.exports={input:"Filter_input__2jEjJ"}},91:function(t,e,n){"use strict";n.r(e);var c,a,o=n(0),r=n.n(o),s=n(9),i=n.n(s),u=n(10),b=n(20),l=n(4),j=n(3),h=n(8),m=Object(j.b)("phonebook/fetchContactsRequest"),f=Object(j.b)("phonebook/fetchContactsSuccess"),d=Object(j.b)("phonebook/fetchContactsError"),p=Object(j.b)("phonebook/addContactRequest"),O=Object(j.b)("phonebook/addContactSuccess"),C=Object(j.b)("phonebook/addContactError"),x=Object(j.b)("phonebook/deleteContactRequest"),v=Object(j.b)("phonebook/deleteContactSuccess"),_=Object(j.b)("phonebook/deleteContactError"),g=Object(j.b)("phonebook/changeFilter"),N=Object(j.c)([],(c={},Object(l.a)(c,f,(function(t,e){return e.payload})),Object(l.a)(c,O,(function(t,e){return[e.payload].concat(Object(b.a)(t))})),Object(l.a)(c,v,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),y=Object(j.c)("",Object(l.a)({},g,(function(t,e){return e.payload}))),k=Object(j.c)(!1,(a={},Object(l.a)(a,m,(function(){return!0})),Object(l.a)(a,f,(function(){return!1})),Object(l.a)(a,d,(function(){return!1})),Object(l.a)(a,p,(function(){return!0})),Object(l.a)(a,O,(function(){return!1})),Object(l.a)(a,C,(function(){return!1})),Object(l.a)(a,x,(function(){return!0})),Object(l.a)(a,v,(function(){return!1})),Object(l.a)(a,_,(function(){return!1})),a)),L=Object(h.c)({items:N,filter:y,loading:k}),E=Object(b.a)(Object(j.d)()),w=Object(j.a)({reducer:{contacts:L},middleware:E,devTools:!1}),A=n(17),S=n(18),F=n(22),q=n(21),T=n(16),D=function(t){return t.contacts.items},M=function(t){return t.contacts.filter},R={getLoading:function(t){return t.contacts.loading},getAllContacts:D,getFilter:M,getVisibleContacts:Object(T.a)([D,M],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},I=n(14),J=n.n(I);J.a.defaults.baseURL="http://localhost:4040";var G={fetchContacts:function(){return function(t){t(m()),J.a.get("/contacts").then((function(e){var n=e.data;return t(f(n))})).catch((function(e){return t(d(e))}))}},addContact:function(t,e){return function(n){var c={name:t,number:e};n(p()),J.a.post("/contacts",c).then((function(t){var e=t.data;return n(O(e))})).catch((function(t){return n(C(t))}))}},deleteContact:function(t){return function(e){e(x()),J.a.delete("/contacts/".concat(t)).then((function(){return e(v(t))})).catch((function(t){return e(_(t))}))}}},P=n(11),z=n.n(P),B=n(27),H=n.n(B),U=n(1);var V=function(t){var e=t.message;return Object(s.createPortal)(Object(U.jsx)("div",{className:H.a.container,children:Object(U.jsx)("p",{className:H.a.message,children:e})}),document.querySelector("#toast"))},K=n(92),Q=function(t){Object(F.a)(n,t);var e=Object(q.a)(n);function n(){var t;Object(A.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",haveError:!1},t.handleChange=function(e){t.setState(Object(l.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;if(""!==c&&""!==a){if(t.props.contacts.find((function(t){return t.name===c})))return t.showToast("".concat(c," is already in contacts")),void t.setState({name:"",number:""});t.props.onAddContact(c,a),t.setState({name:"",number:""})}else t.showToast("Name or number can't be empty string")},t.showToast=function(e){t.setState((function(t){return{haveError:!t.haveError,errorMessage:e}})),setTimeout((function(){t.setState((function(t){return{haveError:!t.haveError}}))}),1500)},t}return Object(S.a)(n,[{key:"render",value:function(){var t=this.state,e=t.errorMessage,n=t.haveError;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(K.a,{in:n,timeout:250,classNames:"toast",unmountOnExit:!0,children:Object(U.jsx)(V,{message:e})}),Object(U.jsxs)("form",{onSubmit:this.handleSubmit,className:z.a.form,children:[Object(U.jsxs)("label",{className:z.a.label,children:["Name",Object(U.jsx)("input",{className:z.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})]}),Object(U.jsxs)("label",{className:z.a.label,children:["Number",Object(U.jsx)("input",{className:z.a.input,type:"text",name:"number",value:this.state.number,onChange:this.handleChange})]}),Object(U.jsx)("button",{type:"submit",className:z.a.button,children:"Add contact"})]})]})}}]),n}(o.Component),W=Object(u.b)((function(t){return{contacts:R.getAllContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(G.addContact(e,n))}}}))(Q),Y=n(39),X=n.n(Y);var Z=Object(u.b)((function(t){return{value:R.getFilter(t),items:R.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(g(e.target.value))}}}))((function(t){var e=t.value,n=void 0===e?"":e,c=t.onChangeFilter,a=t.items;return Object(U.jsx)(K.a,{in:a.length>0,timeout:500,classNames:"filter",unmountOnExit:!0,children:Object(U.jsxs)("div",{children:[Object(U.jsx)("h3",{children:"Find contact by name"}),Object(U.jsx)("input",{className:X.a.input,type:"text",value:n,onChange:c})]})})})),$=n(15),tt=n.n($),et=n(93);var nt=Object(u.b)((function(t){return{contacts:R.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(G.deleteContact(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(U.jsx)(et.a,{component:"ul",className:tt.a.list,children:0===e.length?Object(U.jsx)(K.a,{timeout:700,classNames:"message-empty",unmountOnExit:!0,children:Object(U.jsx)("li",{children:"Contact list empty for now"})},1):e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(U.jsx)(K.a,{appear:!0,timeout:250,classNames:tt.a,children:Object(U.jsxs)("li",{className:tt.a.listItem,children:[Object(U.jsxs)("span",{children:[e,": ",c]}),Object(U.jsx)("button",{type:"button",className:tt.a.button,onClick:function(){return n(a)},children:"Delete contact"})]})},a)}))})})),ct=n(40),at=n.n(ct),ot=(n(90),n(28)),rt=n.n(ot);var st=function(t){return rt.a.wrapper,rt.a.inner,at.a,document.querySelector("toast")},it=function(t){Object(F.a)(n,t);var e=Object(q.a)(n);function n(){return Object(A.a)(this,n),e.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(U.jsxs)("div",{className:"App",children:[this.props.isLoading&&Object(U.jsx)(st,{}),Object(U.jsxs)("div",{className:"Container",children:[Object(U.jsx)(K.a,{in:!0,appear:!0,timeout:500,classNames:"title",unmountOnExit:!0,children:Object(U.jsx)("h1",{children:"Phonebook"})}),Object(U.jsx)(W,{}),Object(U.jsx)("h1",{children:"Contacts"}),Object(U.jsx)(Z,{}),Object(U.jsx)(nt,{})]})]})}}]),n}(o.Component),ut=Object(u.b)((function(t){return{isLoading:R.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(G.fetchContacts())}}}))(it);i.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(u.a,{store:w,children:Object(U.jsx)(ut,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.fffcb1cc.chunk.js.map